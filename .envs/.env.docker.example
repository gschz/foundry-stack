# ====================================================================
# == ENTORNO DOCKER ==
# ====================================================================

# --- Variables de la Aplicación (para el contenedor `backend`) ---
APP_NAME="Foundry Stack - Docker"
APP_ENV=production
APP_KEY= # ¡IMPORTANTE! Genera una clave para tu entorno Docker y pégala aquí.
APP_DEBUG=false
APP_URL=http://localhost:8080
FRONTEND_URL=http://localhost:5173
APP_RUNNING_IN_CONTAINER=true

# Modo de búsqueda en contenedor: usa Typesense
SEARCH_MODE=typesense

# Configuración Scout para Typesense
SCOUT_DRIVER=typesense

# Variables de Typesense (ajusta según tu docker-compose)
TYPESENSE_HOST=typesense
TYPESENSE_PORT=8108
TYPESENSE_PROTOCOL=http
TYPESENSE_API_KEY=xyz
TYPESENSE_PATH=

# Para HTTPS real detrás de proxy/certificado, cambia a true
FORCE_HTTPS=false

# --- Configuración de Logging ---
LOG_CHANNEL=single
LOG_LEVEL=error
LOG_DEPRECATIONS_CHANNEL=null

# --- Configuración de Sesión y CORS (para el contenedor `backend`) ---
# Dominios stateful SÓLO host:puerto, sin protocolo
SANCTUM_STATEFUL_DOMAINS=localhost:5173,127.0.0.1:5173

# Vacío por defecto para evitar problemas en localhost/LAN
SESSION_DOMAIN=
SESSION_DRIVER=file
SESSION_LIFETIME=480
SESSION_SAME_SITE=lax

# Importante: si usas HTTPS, cambia a true
SESSION_SECURE_COOKIE=false
QUEUE_CONNECTION=database

# --- Configuración de Base de Datos (para los contenedores `db` y `backend`) ---
DB_CONNECTION=pgsql
DB_HOST=db
DB_PORT=5432
DB_DATABASE=foundry
DB_USERNAME=postgres
DB_PASSWORD=postgres

# Variables auxiliares para Docker Compose (evitan avisos de variables no definidas)
POSTGRES_DB=${DB_DATABASE}
POSTGRES_USER=${DB_USERNAME}

# --- Variables para el Frontend (Vite) ---
# Estas variables son leídas por Vite al iniciar, no se inyectan en los contenedores.
VITE_APP_NAME="${APP_NAME}"
VITE_APP_URL="${APP_URL}"

# --- Configuración para mostrar errores detallados de Laravel en lugar de los personalizados de Inertia
SHOW_LARAVEL_ERRORS=true

# --- pgAdmin (para administrar PostgreSQL en desarrollo) ---
PGADMIN_DEFAULT_EMAIL=admin@admin.com
PGADMIN_DEFAULT_PASSWORD=admin

# --- Configuración de Carga de Entorno (Bun/Bootstrap) ---
# Identidad explícita de este archivo de entorno.
LARAVEL_ENV_FILE=.envs/.env.docker
